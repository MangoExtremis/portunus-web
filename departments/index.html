<!DOCTYPE html>
<html>

<head>
    <title>Portunus - Department Browser</title>
    <meta name="description" content="Portunus's Departmental Browser">
    <meta name="keywords" content="PDB">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/favicon.ico">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        .loader {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left: 4px solid #4CAF50;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        h2 {
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label,
        .form-group input,
        .form-group .checkbox-label {
            display: block;
            margin: 0 auto;
            text-align: center;
        }

        .form-group input[type="checkbox"] {
            display: inline-block;
            margin-right: 5px;
        }

        .form-group .checkbox-label {
            display: inline-block;
            vertical-align: middle;
        }

        .background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('/images/banner.jpg');
            background-size: cover;
            background-position: center;
            z-index: -1;
            transition: transform 0.1s ease-out;
        }

        footer {
            background-color: #333;
            color: white;
            padding: 10px 0;
        }

        nav {
            background-color: #444;
            color: white;
            padding: 10px 0;
        }

        nav a {
            color: white;
            text-decoration: none;
            margin: 0 10px;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
            margin: 0;
            padding: 0;
            overflow: hidden;
            text-align: center;
        }
    </style>
</head>

<body>
    <nav>
        <a id="displayName">Hello, Null!</a>
        <a href="https://portunus.run.place/home">Home</a>
        <a href="https://portunus.run.place/departments">Departmental Browser</a>
    </nav>
    <div class="background" id="background"></div>
    <div class="container">
        <h1>Portunus - Portunus's Departmental Browser</h1>
        <div>
            <p>This is Portunus's Departmental Browser. You may view all departments depending on your access levels.
            </p>
        </div>
        <div><a href="https://portunus.run.place/cdn/banner.jpg">banner.jpg</a></div>
        <div>
            <p>&copy; Portunus 2024. All rights reserved.</p>
        </div>
    </div>
    <script>
        document.addEventListener('mousemove', function (e) {
            const background = document.getElementById('background');
            const moveX = (e.clientX / window.innerWidth) * 15 - 30;
            const moveY = (e.clientY / window.innerHeight) * 15 - 30;
            background.style.transform = `translate(${moveX}px, ${moveY}px) scale(1.1)`;
        });
    </script>

    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="/cdn/fbauth.js"></script>
    <div id="/RESTRICTED"></div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyB6bb3PcRQmnfGkx9ef00KMJ9XsIi57170",
            authDomain: "portunus-web.firebaseapp.com",
            projectId: "portunus-web",
            storageBucket: "portunus-web.appspot.com",
            messagingSenderId: "858044349547",
            appId: "1:858044349547:web:31414f32c015176994052e"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        if (auth) {

        } else {
            console.error('Failed to load user status.')
            window.location.replace("http://portunus.run.place/home");
        }

        auth.onAuthStateChanged((user) => {
            if (user) {
                console.log('User is logged in:', user);
                try {
                    const myTag = document.getElementById('login');
                    if (myTag) {
                        window.location.replace("http://portunus.run.place/home");
                    }
                } catch (error) {
                    console.log('Error:', error);
                }
            } else {
                try {
                    const myTag = document.getElementById('/RESTRICTED');
                    if (myTag) {
                        window.location.replace("http://portunus.run.place/login"); v
                    }
                } catch (error) {
                    console.log('Error:', error);
                }
            }
        });
    </script>
</body>

</html>